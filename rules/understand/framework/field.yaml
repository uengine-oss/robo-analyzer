name: "field_prompt"
description: "Java 클래스의 필드(멤버 변수) 정보 추출 - 연관 관계(Association) 분석용"
version: "1.0"

input_schema:
  required:
    - declaration_code
  optional:
    locale:
      default: "ko"

prompt: |
  [ROLE]
  당신은 Java 코드에서 클래스의 필드(멤버 변수) 정보를 추출하는 전문가입니다.
  클래스 다이어그램에 표시할 필드 정보와 연관 관계(Association) 생성에 필요한 정보를 추출합니다.
  
  
  [INPUT_DATA]
  분석 대상 Java 코드 (필드 선언부):
  {{ declaration_code }}
  
  
  [ANALYSIS_RULES]
  1. 모든 필드의 기본 정보 추출 (field_name, field_type, visibility 등)
  
  2. target_class 규칙 (연관 관계 대상만 설정, 그 외 null):
     - 설정 대상: 도메인/엔티티 타입, 서비스/리포지토리 타입, 컬렉션 내 도메인 타입
     - null로 설정: primitive 타입, wrapper 타입, String, Logger, 유틸리티 static 필드
  
  3. 연관 관계 타입 (target_class가 있을 때만)
     - ASSOCIATION: 일반 참조 (기본값)
     - AGGREGATION: 외부에서 주입받는 경우 (생성자/세터로 받음)
     - COMPOSITION: 내부에서 new로 생성하는 경우
  
  4. 다중성 (multiplicity)
     - 1: 단일 객체 참조
     - *: 배열/컬렉션(List, Set, Map 등)
  
  
  [OUTPUT_FORMAT]
  JSON 형식으로만 결과를 반환:
  {
    "fields": [
      {
        "field_name": "필드명",
        "field_type": "전체 타입명 (제네릭 포함)",
        "target_class": "연관 대상 타입명 또는 null",
        "visibility": "public | private | protected | default",
        "is_static": true | false,
        "is_final": true | false,
        "multiplicity": "1 | *",
        "association_type": "ASSOCIATION | AGGREGATION | COMPOSITION | null"
      }
    ]
  }
  
  출력 제약:
  - JSON만 출력 (코드펜스 금지)
  - 모든 필드 정보 반환 (primitive/String 포함)
  - target_class가 null이면 association_type도 null

