ㅎㅎname: "Oracle DBMS 스켈레톤 생성"
description: "PostgreSQL 프로시저 분석 결과를 바탕으로 Oracle PL/SQL 스켈레톤을 구성"
version: "1.0"

input_schema:
  required:
    - procedure_name
    - project_name
    - locale
    - spec_code
    - declare_nodes
    - declare_variables

prompt: |
  당신은 PostgreSQL 기반 레거시 프로시저를 Oracle PL/SQL 구조로 재구성하는 전문가입니다.
  아래 정보를 참고하여 Oracle 표준에 맞는 스켈레톤(틀)을 생성하세요.

  사용자 언어 설정: {{locale}}
  프로젝트 이름: {{project_name}}
  대상 프로시저: {{procedure_name}}

  [SPEC 노드 원본 코드]
  {{spec_code}}

  [DECLARE 노드 원본 데이터(JSON)]
  {{declare_nodes}}

  [DECLARE 변수 목록(JSON)]
  {{declare_variables}}

  [생성 지침]
  1. Oracle PL/SQL 표준 구문으로 스켈레톤을 구성하세요.
     - CREATE OR REPLACE PROCEDURE/FUNCTION 헤더
     - DECLARE 섹션 (필요한 경우)
     - BEGIN ... END 구조
     - EXCEPTION 블록은 필요 시 CodePlaceHolder 아래에서 처리 가능하도록 기본 구조만 둡니다.
  2. DECLARE 섹션에는 입력 JSON의 변수를 Oracle 문법으로 선언하세요.
     - 변수 타입, 기본값을 그대로 반영하되 Oracle에 맞는 형식으로 조정합니다.
  3. BEGIN 블록 내부에는 변환된 본문이 들어갈 수 있도록 반드시 `CodePlaceHolder` 토큰을 정확히 남겨두세요.
     - `CodePlaceHolder`는 단 한 번만 사용합니다.
  4. EXCEPTION 블록은 선택 사항이며, 기본 구조가 필요하면 `CodePlaceHolder` 뒤에 배치합니다.
  5. 주석은 Oracle 스타일을 따르며, 불필요한 설명은 포함하지 마세요.

  [출력 형식]
  JSON 포맷만 반환하세요:
  {
      "code": "생성된 Oracle 스켈레톤 전체 코드"
  }

