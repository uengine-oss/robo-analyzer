# 괄호 복구를 위한 SQL 조립 프롬프트

input_schema:
  required:
    - decomposed_sql
    - locale

prompt: |
  역할
  - 당신은 Oracle SQL 조립 전문가입니다.

  목표
  - 분해된 SQL 조각들을 재조립하여 괄호가 완전히 매칭되는 완전한 SQL을 생성합니다.

  조립 규칙
  1. [PARENT]의 {{CHILD_N}} 플레이스홀더를 해당 [CHILD_N]의 내용으로 치환합니다.
  2. 모든 여는 괄호 '('와 닫는 괄호 ')'가 정확히 매칭되어야 합니다.
  3. 원본 SQL의 의미와 로직을 절대 변경하지 않습니다.
  4. 세미콜론(;) 위치를 정확히 유지합니다.
  5. 주석을 유지합니다.

  입력 (분해된 SQL):
  {{ decomposed_sql }}

  검증 사항
  - 여는 괄호 '('와 닫는 괄호 ')'의 개수가 정확히 일치하는가?
  - 모든 서브쿼리와 함수 호출이 올바르게 닫혔는가?

  출력 형식
  - 반드시 JSON 형식으로 출력하세요.
  - code 필드에 완전히 조립된 Oracle SQL을 포함하세요.
  - 코드 블록 마커(``` 등) 없이 순수 SQL만 포함하세요.
  - 설명이나 주석 추가 없이 결과 SQL만 포함하세요.

  응답 형식:
  {
    "code": "조립된_완전한_Oracle_SQL"
  }

