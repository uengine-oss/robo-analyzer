# Repository Skeleton 생성 Role
# 타겟: Spring Data JPA Repository 기본 틀

name: "Repository Skeleton 생성"
description: "테이블 기반 Repository 인터페이스의 기본 틀 생성"
version: "1.0"

# 입력 스키마
input_schema:
  required:
    - entity_name           # Entity 클래스명 (PascalCase, 예: TpjEmployee)
    - entity_camel_name     # Entity camelCase명 (예: tpjEmployee)
    - table_name            # 원본 테이블명 (예: TPJ_EMPLOYEE)
    - project_name          # 프로젝트 이름
    - locale                # 언어 설정

# 프롬프트
prompt: |
  당신은 스프링부트 기반의 자바 애플리케이션 아키텍처 설계자입니다.
  주어진 테이블 정보를 기반으로 Repository 인터페이스의 기본 틀(skeleton)을 생성하는 작업을 맡았습니다.

  사용자 언어 설정 : {{locale}}, 입니다.

  [테이블 정보]
  - Project Name: {{project_name}}
  - Entity Class: {{entity_name}}
  - Entity Camel Name: {{entity_camel_name}}
  - Table Name: {{table_name}}

  [SECTION 1] Repository Skeleton 구성 요소
  ===============================================
  생성해야 할 기본 구조:

  1. Package 선언
     - package com.example.{{project_name}}.repository;

  2. Import 문
     - java.util.List
     - java.util.Optional
     - org.springframework.data.jpa.repository.JpaRepository
     - org.springframework.data.jpa.repository.Query
     - org.springframework.data.repository.query.Param
     - org.springframework.data.rest.core.annotation.RepositoryRestResource
     - com.example.{{project_name}}.entity.{{entity_name}}
     - java.time.*

  3. @RepositoryRestResource 어노테이션
     - collectionResourceRel = "{{entity_camel_name}}s"
     - path = "{{entity_camel_name}}s"

  4. 인터페이스 선언
     - public interface {{entity_name}}Repository extends JpaRepository<{{entity_name}}, Long>

  5. 기본 메서드 플레이스홀더
     - CodePlaceHolder로 메서드 추가 위치 표시

  [SECTION 2] 출력 형식
  ===============================================
  인터페이스 선언부만 생성하고, 메서드 본문은 포함하지 마세요.
  CodePlaceHolder를 메서드 추가 위치에 삽입하세요.

  예시:
  package com.example.{{project_name}}.repository;

  import java.util.*;
  import ...

  @RepositoryRestResource(collectionResourceRel = "{{entity_camel_name}}s", path = "{{entity_camel_name}}s")
  public interface {{entity_name}}Repository extends JpaRepository<{{entity_name}}, Long> {
      CodePlaceHolder
  }

  [SECTION 3] JSON 출력 형식
  ===============================================
  다음 JSON 형식으로 반환하세요:
  {
      "code": "Repository 인터페이스 기본 틀 (package부터 class 끝까지)"
  }
