# Repository Skeleton 생성 Role
# 타겟: SQLAlchemy Repository 기본 틀

name: "Repository Skeleton 생성"
description: "테이블 기반 Repository 클래스의 기본 틀 생성"
version: "1.0"

# 저장 경로 정의
path: "repository"

# 입력 스키마
input_schema:
  required:
    - entity_name           # Entity 클래스명 (PascalCase, 예: TpjEmployee)
    - entity_camel_name     # Entity camelCase명 (예: tpjEmployee)
    - table_name            # 원본 테이블명 (예: TPJ_EMPLOYEE)
    - project_name          # 프로젝트 이름
    - locale                # 언어 설정

# 프롬프트
prompt: |
  당신은 FastAPI 기반의 파이썬 애플리케이션 아키텍처 설계자입니다.
  주어진 테이블 정보를 기반으로 Repository 클래스의 기본 틀(skeleton)을 생성하는 작업을 맡았습니다.

  사용자 언어 설정 : {{locale}}, 입니다.

  [테이블 정보]
  - Project Name: {{project_name}}
  - Entity Class: {{entity_name}}
  - Entity Camel Name: {{entity_camel_name}}
  - Table Name: {{table_name}}

  [SECTION 1] Repository Skeleton 구성 요소
  ===============================================
  생성해야 할 기본 구조:

  1. Import 문
     - typing: List, Optional
     - sqlalchemy: Session, text
     - sqlalchemy.orm: Session
     - app.entity.{{entity_name}}: {{entity_name}}
     - datetime: datetime, date

  2. 클래스 선언
     - class {{entity_name}}Repository

  3. 초기화 메서드
     - __init__(self, session: Session)

  4. 기본 메서드 플레이스홀더
     - CodePlaceHolder로 메서드 추가 위치 표시

  [SECTION 2] 출력 형식
  ===============================================
  클래스 선언부만 생성하고, 메서드 본문은 포함하지 마세요.
  CodePlaceHolder를 메서드 추가 위치에 삽입하세요.

  예시:
  from typing import List, Optional
  from sqlalchemy.orm import Session
  from sqlalchemy import text
  from app.entity.{{entity_name}} import {{entity_name}}
  from datetime import datetime, date

  class {{entity_name}}Repository:
      def __init__(self, session: Session):
          self.session = session

      CodePlaceHolder

  [SECTION 3] JSON 출력 형식
  ===============================================
  다음 JSON 형식으로 반환하세요:
  {
      "code": "Repository 클래스 기본 틀 (import부터 class 끝까지)"
  }