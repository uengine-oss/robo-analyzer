# Controller Skeleton 생성 Role
# 타겟: FastAPI Controller 기본 틀

name: "Controller Skeleton 생성"
description: "Service 기반 Controller 클래스의 기본 틀 생성"
version: "1.0"

# 저장 경로 정의
path: "controller"

# 입력 스키마
input_schema:
  required:
    - controller_class_name  # Controller 클래스명 (PascalCase)
    - project_name         # 프로젝트 이름
    - object_name          # 객체 이름 (camelCase)
    - service_class_name   # Service 클래스명
    - exist_command_class  # Command 클래스 존재 여부
    - locale              # 언어 설정

# 프롬프트
prompt: |
  당신은 FastAPI 기반의 파이썬 애플리케이션 아키텍처 설계자입니다.
  주어진 정보를 기반으로 Controller 클래스의 기본 틀(skeleton)을 생성하는 작업을 맡았습니다.

  사용자 언어 설정 : {{locale}}, 입니다.

  [Controller 정보]
  - Project Name: {{project_name}}
  - Controller Class: {{controller_class_name}}
  - Object Name: {{object_name}}
  - Service Class: {{service_class_name}}
  - Command Class Exists: {{exist_command_class}}

  [SECTION 1] Controller Skeleton 구성 요소
  ===============================================
  생성해야 할 기본 구조:

  1. Import 문
     - fastapi: APIRouter, Depends, HTTPException, status
     - sqlalchemy.orm: Session
     - Command 관련: app.command.{{object_name}} import * (조건부)
     - Service 관련: app.service.{{service_class_name}} import {{service_class_name}}
     - Config: app.config import get_db
     - typing: List, Optional, Dict, Any

  2. APIRouter 설정
     - router = APIRouter(prefix="/{{object_name}}", tags=["{{service_class_name}}"])

  3. 의존성 주입 함수
     - get_{{object_name}}_service(db: Session = Depends(get_db))

  4. 메서드 플레이스홀더
     - CodePlaceHolder로 메서드 추가 위치 표시

  [SECTION 2] 출력 형식
  ===============================================
  클래스 선언부만 생성하고, 메서드 본문은 포함하지 마세요.
  CodePlaceHolder를 메서드 추가 위치에 삽입하세요.

  예시:
  from fastapi import APIRouter, Depends, HTTPException, status
  from sqlalchemy.orm import Session
  from app.command.{{object_name}} import *
  from app.config import get_db
  from app.service.{{service_class_name}} import {{service_class_name}}
  from typing import List, Optional

  router = APIRouter(prefix="/{{object_name}}", tags=["{{service_class_name}}"])

  # 서비스 의존성
  def get_{{object_name}}_service(db: Session = Depends(get_db)):
      return {{service_class_name}}(db)

  CodePlaceHolder

  [SECTION 3] JSON 출력 형식
  ===============================================
  다음 JSON 형식으로 반환하세요:
  {
      "code": "Controller 클래스 기본 틀 (import부터 router 끝까지)"
  }