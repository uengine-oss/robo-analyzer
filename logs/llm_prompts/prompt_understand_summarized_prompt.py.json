[
  {
    "timestamp": "2025-11-06T01:45:56.287161Z",
    "prompt": "prompt/understand_summarized_prompt.py",
    "input": {
      "summaries": {
        "ASSIGNMENT_19_19": "pResultCode 변수에 0을 할당하여 결과 코드가 정상임을 초기화합니다.",
        "ASSIGNMENT_20_20": "pResultMessage 변수에 '성공적으로 처리되었습니다.'라는 메시지를 할당하여 기본 성공 메시지를 설정합니다.",
        "SELECT_23_25": "TPJ_PATIENT 테이블에서 PATIENT_KEY가 pPatientKey와 일치하는 행의 개수를 조회하여 vPatientExists 변수에 저장합니다.",
        "ASSIGNMENT_30_30": "pResultCode 변수에 -1을 할당하여 오류 또는 실패 상태를 표시합니다.",
        "ASSIGNMENT_31_31": "pResultMessage 변수에 '신규 환자 정보가 부족합니다.'라는 오류 메시지를 할당합니다.",
        "RETURN_32_32": "RETURN 문을 사용하여 프로시저 실행을 즉시 종료합니다.",
        "IF_29_33": "pPatientName, pBirthDate, pGender, pPhone 중 하나라도 NULL이면 pResultCode에 -1을 할당하고, pResultMessage에 '신규 환자 정보가 부족합니다.'라는 메시지를 설정한 후 RETURN으로 프로시저 실행을 즉시 종료합니다.",
        "INSERT_36_37": "TPJ_PATIENT 테이블에 pPatientKey, pPatientName, pBirthDate, pGender, pPhone 값을 신규 환자 데이터로 삽입합니다.",
        "ASSIGNMENT_39_39": "pResultCode 변수에 -2 값을 할당하여 오류 또는 특정 상태를 표시합니다.",
        "ASSIGNMENT_40_40": "pResultMessage 변수에 '존재하지 않는 환자입니다:'와 pPatientKey 값을 결합하여 오류 메시지를 설정합니다.",
        "RETURN_41_41": "RETURN 문을 통해 프로시저 또는 함수의 실행을 즉시 종료합니다.",
        "ELSIF_38_41": "vPatientExists가 0일 때, pResultCode에 -2를 할당하여 오류 상태를 표시하고, pResultMessage에 '존재하지 않는 환자입니다:'와 pPatientKey 값을 결합해 상세 오류 메시지를 설정한 후, RETURN으로 프로시저 실행을 즉시 종료합니다.",
        "IF_28_42": "vPatientExists가 0이고 pActionType이 'REGISTER'일 때 신규 환자 등록 로직을 수행합니다. pPatientName, pBirthDate, pGender, pPhone 중 하나라도 NULL이면 pResultCode에 -1, pResultMessage에 '신규 환자 정보가 부족합니다.'를 설정하고 즉시 종료합니다. 모든 정보가 있으면 TPJ_PATIENT 테이블에 pPatientKey, pPatientName, pBirthDate, pGender, pPhone을 삽입합니다. 이후에도 vPatientExists가 0이면 pResultCode에 -2, pResultMessage에 '존재하지 않는 환자입니다:'와 pPatientKey를 결합해 오류 메시지를 설정하고 즉시 종료합니다.",
        "ASSIGNMENT_47_47": "pResultCode 변수에 -3 값을 할당하여 오류 또는 특정 상태를 나타냅니다.",
        "ASSIGNMENT_48_48": "pResultMessage 변수에 '진료과 코드가 필요합니다.'라는 메시지를 할당하여 오류 원인 또는 안내 메시지를 설정합니다.",
        "RETURN_49_49": "RETURN 문을 사용하여 프로시저 또는 함수의 실행을 즉시 종료합니다.",
        "IF_46_50": "pDeptCode가 NULL인 경우 pResultCode에 -3을 할당하고, pResultMessage에 '진료과 코드가 필요합니다.'라는 안내 메시지를 설정한 뒤, RETURN으로 프로시저 실행을 즉시 종료합니다.",
        "ASSIGNMENT_52_52": "pReceptKey가 NULL인 경우 SYS_GUID() 값을 할당하여 고유 접수키를 생성합니다.",
        "INSERT_54_55": "TPJ_RECEPTION 테이블에 pReceptKey, pPatientKey, pDeptCode, pSymptom, 'W' 값을 삽입하여 진료 접수 정보를 등록합니다.",
        "ASSIGNMENT_57_57": "pResultMessage 변수에 '진료 접수가 완료되었습니다.'라는 메시지를 할당합니다.",
        "IF_45_58": "pActionType이 'REGISTER'인 경우 진료 접수 등록을 처리하며, pDeptCode가 없으면 오류 코드와 메시지를 반환하고 즉시 종료합니다. pReceptKey가 없으면 SYS_GUID()로 고유 키를 생성하고, TPJ_RECEPTION 테이블에 접수 정보를 삽입합니다. 성공 시 결과 메시지를 설정합니다.",
        "UPDATE_62_64": "TPJ_RECEPTION 테이블에서 RECEPT_KEY와 PATIENT_KEY가 각각 pReceptKey, pPatientKey이고 STATUS가 'W'인 행의 STATUS 값을 'X'로 변경하여 접수 상태를 취소 처리합니다.",
        "ASSIGNMENT_67_67": "pResultCode 변수에 -4 값을 할당하여 오류 또는 특정 상태를 나타냅니다.",
        "ASSIGNMENT_68_68": "pResultMessage 변수에 '취소할 접수 정보가 없습니다.'라는 메시지를 할당하여 취소 대상이 없음을 알립니다.",
        "ASSIGNMENT_70_70": "pResultMessage 변수에 '접수가 취소되었습니다.'라는 메시지를 할당하여 접수 취소 성공을 알립니다.",
        "ELSE_69_70": "pResultMessage 변수에 '접수가 취소되었습니다.'라는 메시지를 할당하여 접수 취소 성공을 알립니다.",
        "IF_66_71": "SQL%ROWCOUNT가 0일 때 pResultCode에 -4를 할당하여 오류 상태를 표시하고, pResultMessage에 '취소할 접수 정보가 없습니다.' 메시지를 설정합니다. 그렇지 않으면 pResultMessage에 '접수가 취소되었습니다.' 메시지를 할당하여 정상 취소를 알립니다. 조건 분기(IF)와 변수 할당이 주요 동작입니다.",
        "IF_61_72": "pActionType이 'CANCEL'일 때 TPJ_RECEPTION 테이블에서 pReceptKey와 pPatientKey에 해당하고 STATUS가 'W'인 행의 STATUS를 'X'로 업데이트하여 접수를 취소 처리합니다. 업데이트된 행이 없으면 pResultCode에 -4를, pResultMessage에 '취소할 접수 정보가 없습니다.'를 할당하고, 성공 시 pResultMessage에 '접수가 취소되었습니다.'를 할당합니다. 조건 분기(IF), 변수 할당, UPDATE 문, SQL%ROWCOUNT 활용이 주요 동작입니다.",
        "UPDATE_76_78": "TPJ_RECEPTION 테이블에서 RECEPT_KEY와 PATIENT_KEY가 각각 pReceptKey, pPatientKey이고 STATUS가 'W'인 행의 STATUS 값을 'C'로 갱신합니다.",
        "ASSIGNMENT_81_81": "pResultCode 변수에 -5 값을 할당하여 결과 코드로 오류 또는 특정 상태를 표시합니다.",
        "ASSIGNMENT_82_82": "pResultMessage 변수에 '완료할 접수 정보가 없습니다.'라는 메시지를 할당하여 처리 결과 메시지를 설정합니다.",
        "ASSIGNMENT_84_84": "pResultMessage 변수에 '진료가 완료되었습니다.'라는 메시지를 할당하여 처리 결과 메시지를 설정합니다.",
        "ELSE_83_84": "ELSE 분기에서 pResultMessage 변수에 '진료가 완료되었습니다.'라는 메시지를 할당하여 처리 결과를 안내합니다.",
        "IF_80_85": "SQL%ROWCOUNT가 0이면 pResultCode에 -5를 할당하고 pResultMessage에 '완료할 접수 정보가 없습니다.'를 설정하여 처리 결과를 안내하며, 그렇지 않으면 pResultMessage에 '진료가 완료되었습니다.'를 할당합니다.",
        "IF_75_86": "pActionType이 'COMPLETE'일 때 TPJ_RECEPTION 테이블에서 RECEPT_KEY와 PATIENT_KEY가 각각 pReceptKey, pPatientKey이고 STATUS가 'W'인 행의 STATUS를 'C'로 갱신합니다. 갱신된 행이 없으면 pResultCode에 -5를, pResultMessage에 '완료할 접수 정보가 없습니다.'를 할당하고, 갱신이 있으면 pResultMessage에 '진료가 완료되었습니다.'를 할당합니다.",
        "COMMIT_88_88": "트랜잭션을 완료하기 위해 COMMIT을 실행하여 이전까지의 데이터베이스 작업을 확정합니다.",
        "ASSIGNMENT_93_93": "예외 상황에서 결과 코드 변수 pResultCode에 -100을 할당하여 오류 상태를 명시합니다.",
        "ASSIGNMENT_94_94": "예외 발생 시 시스템 예외 메시지 SQLERRM을 결과 메시지 변수 pResultMessage에 저장합니다.",
        "EXCEPTION_90_95": "EXCEPTION 블록에서 모든 예외 발생 시 트랜잭션을 ROLLBACK 처리하고, 결과 코드 변수 pResultCode에 -100을 할당하여 오류 상태를 명시하며, 시스템 예외 메시지 SQLERRM을 결과 메시지 변수 pResultMessage에 저장한 후 프로시저를 종료합니다."
      },
      "locale": "ko"
    },
    "output": {
      "summary": "이 프로시저는 환자 등록, 진료 접수, 접수 취소, 진료 완료 등 환자 진료 프로세스의 주요 단계를 처리합니다. 입력된 환자 정보와 요청 유형(pActionType)에 따라 신규 환자 등록, 진료 접수 등록, 접수 취소, 진료 완료 처리를 수행하며, 각 단계에서 입력값 검증과 오류 메시지 반환, 성공 메시지 설정을 통해 결과를 안내합니다. 데이터베이스의 TPJ_PATIENT 및 TPJ_RECEPTION 테이블을 활용하여 환자 및 접수 정보를 관리하고, 모든 작업 후에는 트랜잭션을 커밋하거나 예외 발생 시 롤백 처리합니다. 처리 결과는 결과 코드와 메시지로 반환되어 호출자에게 현재 상태와 안내 메시지를 제공합니다."
    },
    "tokenUsage": {
      "prompt": 2299,
      "completion": 182,
      "total": 2481
    },
    "metadata": {
      "type": "procedure_summary"
    }
  },
  {
    "timestamp": "2025-11-06T07:14:29.874085Z",
    "prompt": "prompt/understand_summarized_prompt.py",
    "input": {
      "summaries": {
        "ASSIGNMENT_19_19": "pResultCode 변수에 0을 할당하여 결과 코드가 정상임을 초기화합니다.",
        "ASSIGNMENT_20_20": "pResultMessage 변수에 '성공적으로 처리되었습니다.'라는 메시지를 할당하여 기본 성공 메시지를 설정합니다.",
        "SELECT_23_25": "TPJ_PATIENT 테이블에서 PATIENT_KEY가 pPatientKey와 일치하는 행의 개수를 조회하여 vPatientExists 변수에 저장합니다.",
        "ASSIGNMENT_30_30": "pResultCode 변수에 -1을 할당하여 오류 또는 실패 상태를 표시합니다.",
        "ASSIGNMENT_31_31": "pResultMessage 변수에 '신규 환자 정보가 부족합니다.'라는 오류 메시지를 할당합니다.",
        "RETURN_32_32": "RETURN 문을 사용하여 프로시저 실행을 즉시 종료합니다.",
        "IF_29_33": "pPatientName, pBirthDate, pGender, pPhone 중 하나라도 NULL이면 pResultCode에 -1을 할당하고, pResultMessage에 '신규 환자 정보가 부족합니다.'라는 메시지를 설정한 후 RETURN으로 프로시저 실행을 즉시 종료합니다.",
        "INSERT_36_37": "TPJ_PATIENT 테이블에 pPatientKey, pPatientName, pBirthDate, pGender, pPhone 값을 신규 환자 데이터로 삽입합니다.",
        "ASSIGNMENT_39_39": "pResultCode 변수에 -2 값을 할당하여 오류 또는 특정 상태를 표시합니다.",
        "ASSIGNMENT_40_40": "pResultMessage 변수에 '존재하지 않는 환자입니다:'와 pPatientKey 값을 결합하여 오류 메시지를 설정합니다.",
        "RETURN_41_41": "RETURN 문을 통해 프로시저 또는 함수의 실행을 즉시 종료합니다.",
        "ELSIF_38_41": "vPatientExists가 0일 때, pResultCode에 -2를 할당하여 오류 상태를 표시하고, pResultMessage에 '존재하지 않는 환자입니다:'와 pPatientKey 값을 결합해 상세 오류 메시지를 설정한 후, RETURN으로 프로시저 실행을 즉시 종료합니다.",
        "IF_28_42": "vPatientExists가 0이고 pActionType이 'REGISTER'일 때 신규 환자 등록 로직을 수행합니다. pPatientName, pBirthDate, pGender, pPhone 중 하나라도 NULL이면 pResultCode에 -1, pResultMessage에 '신규 환자 정보가 부족합니다.'를 설정하고 즉시 종료합니다. 모든 정보가 있으면 TPJ_PATIENT 테이블에 pPatientKey, pPatientName, pBirthDate, pGender, pPhone을 삽입합니다. 이후에도 vPatientExists가 0이면 pResultCode에 -2, pResultMessage에 '존재하지 않는 환자입니다:'와 pPatientKey를 결합해 오류 메시지를 설정하고 즉시 종료합니다.",
        "ASSIGNMENT_47_47": "pResultCode 변수에 -3 값을 할당하여 오류 또는 특정 상태를 나타냅니다.",
        "ASSIGNMENT_48_48": "pResultMessage 변수에 '진료과 코드가 필요합니다.'라는 메시지를 할당하여 오류 원인 또는 안내 메시지를 설정합니다.",
        "RETURN_49_49": "RETURN 문을 사용하여 프로시저 또는 함수의 실행을 즉시 종료합니다.",
        "IF_46_50": "pDeptCode가 NULL인 경우 pResultCode에 -3을 할당하고, pResultMessage에 '진료과 코드가 필요합니다.'라는 안내 메시지를 설정한 뒤, RETURN으로 프로시저 실행을 즉시 종료합니다.",
        "ASSIGNMENT_52_52": "pReceptKey가 NULL인 경우 SYS_GUID() 값을 할당하여 고유 접수키를 생성합니다.",
        "INSERT_54_55": "TPJ_RECEPTION 테이블에 pReceptKey, pPatientKey, pDeptCode, pSymptom, 'W' 값을 삽입하여 진료 접수 정보를 등록합니다.",
        "ASSIGNMENT_57_57": "pResultMessage 변수에 '진료 접수가 완료되었습니다.'라는 메시지를 할당합니다.",
        "IF_45_58": "pActionType이 'REGISTER'인 경우 진료 접수 등록을 처리하며, pDeptCode가 없으면 오류 코드와 메시지를 반환하고 즉시 종료합니다. pReceptKey가 없으면 SYS_GUID()로 고유 키를 생성하고, TPJ_RECEPTION 테이블에 접수 정보를 삽입합니다. 성공 시 결과 메시지를 설정합니다.",
        "UPDATE_62_64": "TPJ_RECEPTION 테이블에서 RECEPT_KEY와 PATIENT_KEY가 각각 pReceptKey, pPatientKey이고 STATUS가 'W'인 행의 STATUS 값을 'X'로 변경하여 접수 상태를 취소 처리합니다.",
        "ASSIGNMENT_67_67": "pResultCode 변수에 -4 값을 할당하여 오류 또는 특정 상태를 나타냅니다.",
        "ASSIGNMENT_68_68": "pResultMessage 변수에 '취소할 접수 정보가 없습니다.'라는 메시지를 할당하여 취소 대상이 없음을 알립니다.",
        "ASSIGNMENT_70_70": "pResultMessage 변수에 '접수가 취소되었습니다.'라는 메시지를 할당하여 접수 취소 성공을 알립니다.",
        "ELSE_69_70": "pResultMessage 변수에 '접수가 취소되었습니다.'라는 메시지를 할당하여 접수 취소 성공을 알립니다.",
        "IF_66_71": "SQL%ROWCOUNT가 0일 때 pResultCode에 -4를 할당하여 오류 상태를 표시하고, pResultMessage에 '취소할 접수 정보가 없습니다.' 메시지를 설정합니다. 그렇지 않으면 pResultMessage에 '접수가 취소되었습니다.' 메시지를 할당하여 정상 취소를 알립니다. 조건 분기(IF)와 변수 할당이 주요 동작입니다.",
        "IF_61_72": "pActionType이 'CANCEL'일 때 TPJ_RECEPTION 테이블에서 pReceptKey와 pPatientKey에 해당하고 STATUS가 'W'인 행의 STATUS를 'X'로 업데이트하여 접수를 취소 처리합니다. 업데이트된 행이 없으면 pResultCode에 -4를, pResultMessage에 '취소할 접수 정보가 없습니다.'를 할당하고, 성공 시 pResultMessage에 '접수가 취소되었습니다.'를 할당합니다. 조건 분기(IF), 변수 할당, UPDATE 문, SQL%ROWCOUNT 활용이 주요 동작입니다.",
        "UPDATE_76_78": "TPJ_RECEPTION 테이블에서 RECEPT_KEY와 PATIENT_KEY가 각각 pReceptKey, pPatientKey이고 STATUS가 'W'인 행의 STATUS 값을 'C'로 갱신합니다.",
        "ASSIGNMENT_81_81": "pResultCode 변수에 -5 값을 할당하여 결과 코드로 오류 또는 특정 상태를 표시합니다.",
        "ASSIGNMENT_82_82": "pResultMessage 변수에 '완료할 접수 정보가 없습니다.'라는 메시지를 할당하여 처리 결과 메시지를 설정합니다.",
        "ASSIGNMENT_84_84": "pResultMessage 변수에 '진료가 완료되었습니다.'라는 메시지를 할당하여 처리 결과 메시지를 설정합니다.",
        "ELSE_83_84": "ELSE 분기에서 pResultMessage 변수에 '진료가 완료되었습니다.'라는 메시지를 할당하여 처리 결과를 안내합니다.",
        "IF_80_85": "SQL%ROWCOUNT가 0이면 pResultCode에 -5를 할당하고 pResultMessage에 '완료할 접수 정보가 없습니다.'를 설정하여 처리 결과를 안내하며, 그렇지 않으면 pResultMessage에 '진료가 완료되었습니다.'를 할당합니다.",
        "IF_75_86": "pActionType이 'COMPLETE'일 때 TPJ_RECEPTION 테이블에서 RECEPT_KEY와 PATIENT_KEY가 각각 pReceptKey, pPatientKey이고 STATUS가 'W'인 행의 STATUS를 'C'로 갱신합니다. 갱신된 행이 없으면 pResultCode에 -5를, pResultMessage에 '완료할 접수 정보가 없습니다.'를 할당하고, 갱신이 있으면 pResultMessage에 '진료가 완료되었습니다.'를 할당합니다.",
        "COMMIT_88_88": "트랜잭션을 완료하기 위해 COMMIT을 실행하여 이전까지의 데이터베이스 작업을 확정합니다.",
        "ASSIGNMENT_93_93": "예외 상황에서 결과 코드 변수 pResultCode에 -100을 할당하여 오류 상태를 명시합니다.",
        "ASSIGNMENT_94_94": "예외 발생 시 시스템 예외 메시지 SQLERRM을 결과 메시지 변수 pResultMessage에 저장합니다.",
        "EXCEPTION_90_95": "EXCEPTION 블록에서 모든 예외 발생 시 트랜잭션을 ROLLBACK 처리하고, 결과 코드 변수 pResultCode에 -100을 할당하여 오류 상태를 명시하며, 시스템 예외 메시지 SQLERRM을 결과 메시지 변수 pResultMessage에 저장한 후 프로시저를 종료합니다."
      },
      "locale": "ko"
    },
    "output": {
      "summary": "이 프로시저는 환자 등록, 진료 접수, 접수 취소, 진료 완료 등 환자 진료 프로세스의 주요 단계를 처리합니다. 입력된 환자 정보와 요청 유형(pActionType)에 따라 신규 환자 등록, 진료 접수 등록, 접수 취소, 진료 완료 처리를 수행하며, 각 단계에서 입력값 검증과 오류 메시지 반환, 성공 메시지 설정을 통해 결과를 안내합니다. 데이터베이스의 TPJ_PATIENT 및 TPJ_RECEPTION 테이블을 활용하여 환자 및 접수 정보를 관리하고, 모든 작업 후에는 트랜잭션을 커밋하거나 예외 발생 시 롤백 처리합니다. 처리 결과는 결과 코드와 메시지로 반환되어 호출자에게 현재 상태와 안내 메시지를 제공합니다."
    },
    "tokenUsage": {
      "prompt": 2299,
      "completion": 182,
      "total": 2481
    },
    "metadata": {
      "type": "procedure_summary"
    }
  },
  {
    "timestamp": "2025-11-06T07:17:39.962759Z",
    "prompt": "prompt/understand_summarized_prompt.py",
    "input": {
      "summaries": {
        "ASSIGNMENT_19_19": "pResultCode 변수에 0을 할당하여 결과 코드가 정상임을 초기화합니다.",
        "ASSIGNMENT_20_20": "pResultMessage 변수에 '성공적으로 처리되었습니다.'라는 메시지를 할당하여 기본 성공 메시지를 설정합니다.",
        "SELECT_23_25": "TPJ_PATIENT 테이블에서 PATIENT_KEY가 pPatientKey와 일치하는 행의 개수를 조회하여 vPatientExists 변수에 저장합니다.",
        "ASSIGNMENT_30_30": "pResultCode 변수에 -1을 할당하여 오류 또는 실패 상태를 표시합니다.",
        "ASSIGNMENT_31_31": "pResultMessage 변수에 '신규 환자 정보가 부족합니다.'라는 오류 메시지를 할당합니다.",
        "RETURN_32_32": "RETURN 문을 사용하여 프로시저 실행을 즉시 종료합니다.",
        "IF_29_33": "pPatientName, pBirthDate, pGender, pPhone 중 하나라도 NULL이면 조건문이 참이 되어 이후 로직이 실행되지 않도록 분기합니다.",
        "INSERT_36_37": "TPJ_PATIENT 테이블에 pPatientKey, pPatientName, pBirthDate, pGender, pPhone 값을 신규 환자 데이터로 삽입합니다.",
        "ASSIGNMENT_39_39": "pResultCode 변수에 -2 값을 할당하여 오류 또는 특정 상태를 표시합니다.",
        "ASSIGNMENT_40_40": "pResultMessage 변수에 '존재하지 않는 환자입니다:'와 pPatientKey 값을 결합하여 오류 메시지를 설정합니다.",
        "RETURN_41_41": "RETURN 문을 통해 프로시저 또는 함수의 실행을 즉시 종료합니다.",
        "ELSIF_38_41": "vPatientExists가 0인 경우(즉, 환자 정보가 존재하지 않을 때) 실행되는 분기입니다. 이 조건 하에서 환자 미존재 상황에 대한 별도의 처리 로직이 수행됩니다. 구체적인 변수 할당, 데이터베이스 작업, 예외 처리 등은 해당 코드 범위 내에 명시되어 있지 않으나, 환자 미존재 시의 예외 처리 또는 신규 등록, 오류 반환 등 후속 조치가 이루어질 가능성이 있습니다.",
        "IF_28_42": "vPatientExists가 0이고 pActionType이 'REGISTER'인 경우에만 환자 등록 로직이 실행됩니다. 이 조건이 충족되면 환자 등록을 위한 변수 할당 및 초기화가 이루어지고, 환자 정보를 데이터베이스에 INSERT하는 작업이 수행됩니다.",
        "ASSIGNMENT_47_47": "pResultCode 변수에 -3 값을 할당하여 오류 또는 특정 상태를 나타냅니다.",
        "ASSIGNMENT_48_48": "pResultMessage 변수에 '진료과 코드가 필요합니다.'라는 메시지를 할당하여 오류 원인 또는 안내 메시지를 설정합니다.",
        "RETURN_49_49": "RETURN 문을 사용하여 프로시저 또는 함수의 실행을 즉시 종료합니다.",
        "IF_46_50": "pDeptCode가 NULL인 경우에만 실행되는 조건 분기문으로, 해당 조건이 참일 때 내부에 특정 로직이 수행됩니다. 변수 할당, 데이터베이스 작업, 반복문, 예외 처리, 트랜잭션 제어 등은 코드 일부가 생략되어 있어 구체적으로 확인되지 않습니다.",
        "ASSIGNMENT_52_52": "pReceptKey가 NULL인 경우 SYS_GUID() 값을 할당하여 고유 접수키를 생성합니다.",
        "INSERT_54_55": "TPJ_RECEPTION 테이블에 pReceptKey, pPatientKey, pDeptCode, pSymptom, 'W' 값을 삽입하여 진료 접수 정보를 등록합니다.",
        "ASSIGNMENT_57_57": "pResultMessage 변수에 '진료 접수가 완료되었습니다.'라는 메시지를 할당합니다.",
        "IF_45_58": "pActionType이 'REGISTER'인 경우에만 실행되는 분기 로직으로, 여러 코드 블록이 순차적으로 실행됩니다. 각 블록에서는 변수 할당, 데이터베이스 작업, 또는 추가 조건 분기 등이 이루어질 수 있으며, 최종적으로 END IF로 분기가 종료됩니다. 이 범위 내에서는 pActionType의 값에 따라 등록 관련 처리가 수행됩니다.",
        "UPDATE_62_64": "TPJ_RECEPTION 테이블에서 RECEPT_KEY와 PATIENT_KEY가 각각 pReceptKey, pPatientKey이고 STATUS가 'W'인 행의 STATUS 값을 'X'로 변경하여 접수 상태를 취소 처리합니다.",
        "ASSIGNMENT_67_67": "pResultCode 변수에 -4 값을 할당하여 오류 또는 특정 상태를 나타냅니다.",
        "ASSIGNMENT_68_68": "pResultMessage 변수에 '취소할 접수 정보가 없습니다.'라는 메시지를 할당하여 취소 대상이 없음을 알립니다.",
        "ASSIGNMENT_70_70": "pResultMessage 변수에 '접수가 취소되었습니다.'라는 메시지를 할당하여 접수 취소 성공을 알립니다.",
        "ELSE_69_70": "ELSE 분기에서 추가적인 로직이 실행될 예정임을 나타내며, 구체적인 동작은 생략되어 있습니다.",
        "IF_66_71": "직전 SQL문 실행 결과 영향을 받은 행이 없을 경우(IF SQL%ROWCOUNT = 0) 특정 로직을 수행하는 조건 분기입니다. 이 조건문은 데이터 조작문(INSERT, UPDATE, DELETE 등) 실행 후 결과에 따라 추가 처리를 분기하는 데 사용됩니다.",
        "IF_61_72": "pActionType이 'CANCEL'인 경우에만 실행되는 분기 로직으로, 해당 조건이 참일 때 특정 변수 할당, 데이터 처리, 또는 트랜잭션 제어 및 예외 처리가 이루어질 수 있는 구조입니다. 구체적으로는 pActionType의 값에 따라 취소 관련 작업을 수행하며, 내부에서 변수 값 변경, 데이터베이스 작업, 또는 프로시저/함수 호출 등이 포함될 수 있습니다.",
        "UPDATE_76_78": "TPJ_RECEPTION 테이블에서 RECEPT_KEY와 PATIENT_KEY가 각각 pReceptKey, pPatientKey이고 STATUS가 'W'인 행의 STATUS 값을 'C'로 갱신합니다.",
        "ASSIGNMENT_81_81": "pResultCode 변수에 -5 값을 할당하여 결과 코드로 오류 또는 특정 상태를 표시합니다.",
        "ASSIGNMENT_82_82": "pResultMessage 변수에 '완료할 접수 정보가 없습니다.'라는 메시지를 할당하여 처리 결과 메시지를 설정합니다.",
        "ASSIGNMENT_84_84": "pResultMessage 변수에 '진료가 완료되었습니다.'라는 메시지를 할당하여 처리 결과 메시지를 설정합니다.",
        "ELSE_83_84": "ELSE 분기 내에 구체적인 코드가 생략되어 있어, 조건이 만족하지 않을 때 실행되는 로직이 존재함을 의미합니다. 실제 동작은 코드가 제공되지 않아 파악할 수 없습니다.",
        "IF_80_85": "SQL%ROWCOUNT가 0일 때 조건 분기를 수행하며, 이 조건이 참이면 내부에 추가 로직이 실행됩니다. 변수 할당, 반복, DML, 예외, 트랜잭션 제어는 명시적으로 나타나지 않습니다.",
        "IF_75_86": "pActionType이 'COMPLETE'인 경우에만 내부 로직이 실행되며, 이 조건 분기를 통해 특정 완료 처리 작업을 수행합니다. 내부에서는 변수 할당, 데이터베이스 작업(SELECT, INSERT, UPDATE 등), 또는 추가적인 프로시저/함수 호출이 이루어질 수 있습니다. 전체적으로 완료 상태에 대한 후속 처리 및 관련 데이터 갱신 또는 기록이 목적입니다.",
        "COMMIT_88_88": "트랜잭션을 완료하기 위해 COMMIT을 실행하여 이전까지의 데이터베이스 작업을 확정합니다.",
        "ASSIGNMENT_93_93": "예외 상황에서 결과 코드 변수 pResultCode에 -100을 할당하여 오류 상태를 명시합니다.",
        "ASSIGNMENT_94_94": "예외 발생 시 시스템 예외 메시지 SQLERRM을 결과 메시지 변수 pResultMessage에 저장합니다.",
        "EXCEPTION_90_95": "EXCEPTION 블록에서 모든 예외 발생 시 ROLLBACK을 수행하여 트랜잭션을 취소하고, 이후 추가적인 예외 처리 또는 종료 로직이 이어집니다."
      },
      "locale": "ko"
    },
    "output": {
      "summary": "이 프로시저는 환자 등록, 진료 접수, 접수 취소, 진료 완료 등 환자 진료 프로세스의 주요 단계를 처리합니다. 입력받은 환자 정보와 요청 유형(pActionType)에 따라 신규 환자 등록, 진료 접수 등록, 접수 취소, 진료 완료 처리를 각각 수행하며, 각 단계별로 입력값 검증과 예외 상황에 대한 오류 메시지 및 결과 코드를 반환합니다. 데이터베이스의 TPJ_PATIENT 및 TPJ_RECEPTION 테이블을 활용하여 환자 및 접수 정보를 관리하고, 모든 작업 후에는 트랜잭션을 커밋하거나 예외 발생 시 롤백하여 데이터의 일관성을 보장합니다. 최종적으로 처리 결과 메시지와 상태 코드를 출력하여 호출자에게 처리 결과를 명확히 안내합니다."
    },
    "tokenUsage": {
      "prompt": 2174,
      "completion": 194,
      "total": 2368
    },
    "metadata": {
      "type": "procedure_summary"
    }
  },
  {
    "timestamp": "2025-11-06T07:22:47.648939Z",
    "prompt": "prompt/understand_summarized_prompt.py",
    "input": {
      "summaries": {
        "ASSIGNMENT_19_19": "pResultCode 변수에 0을 할당하여 결과 코드가 정상임을 초기화합니다.",
        "ASSIGNMENT_20_20": "pResultMessage 변수에 '성공적으로 처리되었습니다.'라는 메시지를 할당하여 기본 성공 메시지를 설정합니다.",
        "SELECT_23_25": "TPJ_PATIENT 테이블에서 PATIENT_KEY가 pPatientKey와 일치하는 행의 개수를 조회하여 vPatientExists 변수에 저장합니다.",
        "ASSIGNMENT_30_30": "pResultCode 변수에 -1을 할당하여 오류 또는 실패 상태를 표시합니다.",
        "ASSIGNMENT_31_31": "pResultMessage 변수에 '신규 환자 정보가 부족합니다.'라는 오류 메시지를 할당합니다.",
        "RETURN_32_32": "RETURN 문을 사용하여 프로시저 실행을 즉시 종료합니다.",
        "IF_29_33": "pPatientName, pBirthDate, pGender, pPhone 중 하나라도 NULL이면 조건문이 참이 되어 이후 로직이 실행되지 않도록 분기합니다.",
        "INSERT_36_37": "TPJ_PATIENT 테이블에 pPatientKey, pPatientName, pBirthDate, pGender, pPhone 값을 신규 환자 데이터로 삽입합니다.",
        "ASSIGNMENT_39_39": "pResultCode 변수에 -2 값을 할당하여 오류 또는 특정 상태를 표시합니다.",
        "ASSIGNMENT_40_40": "pResultMessage 변수에 '존재하지 않는 환자입니다:'와 pPatientKey 값을 결합하여 오류 메시지를 설정합니다.",
        "RETURN_41_41": "RETURN 문을 통해 프로시저 또는 함수의 실행을 즉시 종료합니다.",
        "ELSIF_38_41": "vPatientExists가 0인 경우(즉, 환자 정보가 존재하지 않을 때) 실행되는 분기입니다. 이 조건 하에서 환자 미존재 상황에 대한 별도의 처리 로직이 수행됩니다. 구체적인 변수 할당, 데이터베이스 작업, 예외 처리 등은 해당 코드 범위 내에 명시되어 있지 않으나, 환자 미존재 시의 예외 처리 또는 신규 등록, 오류 반환 등 후속 조치가 이루어질 가능성이 있습니다.",
        "IF_28_42": "vPatientExists가 0이고 pActionType이 'REGISTER'인 경우에만 환자 등록 로직이 실행됩니다. 이 조건이 충족되면 환자 등록을 위한 변수 할당 및 초기화가 이루어지고, 환자 정보를 데이터베이스에 INSERT하는 작업이 수행됩니다.",
        "ASSIGNMENT_47_47": "pResultCode 변수에 -3 값을 할당하여 오류 또는 특정 상태를 나타냅니다.",
        "ASSIGNMENT_48_48": "pResultMessage 변수에 '진료과 코드가 필요합니다.'라는 메시지를 할당하여 오류 원인 또는 안내 메시지를 설정합니다.",
        "RETURN_49_49": "RETURN 문을 사용하여 프로시저 또는 함수의 실행을 즉시 종료합니다.",
        "IF_46_50": "pDeptCode가 NULL인 경우에만 실행되는 조건 분기문으로, 해당 조건이 참일 때 내부에 특정 로직이 수행됩니다. 변수 할당, 데이터베이스 작업, 반복문, 예외 처리, 트랜잭션 제어 등은 코드 일부가 생략되어 있어 구체적으로 확인되지 않습니다.",
        "ASSIGNMENT_52_52": "pReceptKey가 NULL인 경우 SYS_GUID() 값을 할당하여 고유 접수키를 생성합니다.",
        "INSERT_54_55": "TPJ_RECEPTION 테이블에 pReceptKey, pPatientKey, pDeptCode, pSymptom, 'W' 값을 삽입하여 진료 접수 정보를 등록합니다.",
        "ASSIGNMENT_57_57": "pResultMessage 변수에 '진료 접수가 완료되었습니다.'라는 메시지를 할당합니다.",
        "IF_45_58": "pActionType이 'REGISTER'인 경우에만 실행되는 분기 로직으로, 여러 코드 블록이 순차적으로 실행됩니다. 각 블록에서는 변수 할당, 데이터베이스 작업, 또는 추가 조건 분기 등이 이루어질 수 있으며, 최종적으로 END IF로 분기가 종료됩니다. 이 범위 내에서는 pActionType의 값에 따라 등록 관련 처리가 수행됩니다.",
        "UPDATE_62_64": "TPJ_RECEPTION 테이블에서 RECEPT_KEY와 PATIENT_KEY가 각각 pReceptKey, pPatientKey이고 STATUS가 'W'인 행의 STATUS 값을 'X'로 변경하여 접수 상태를 취소 처리합니다.",
        "ASSIGNMENT_67_67": "pResultCode 변수에 -4 값을 할당하여 오류 또는 특정 상태를 나타냅니다.",
        "ASSIGNMENT_68_68": "pResultMessage 변수에 '취소할 접수 정보가 없습니다.'라는 메시지를 할당하여 취소 대상이 없음을 알립니다.",
        "ASSIGNMENT_70_70": "pResultMessage 변수에 '접수가 취소되었습니다.'라는 메시지를 할당하여 접수 취소 성공을 알립니다.",
        "ELSE_69_70": "ELSE 분기에서 추가적인 로직이 실행될 예정임을 나타내며, 구체적인 동작은 생략되어 있습니다.",
        "IF_66_71": "직전 SQL문 실행 결과 영향을 받은 행이 없을 경우(IF SQL%ROWCOUNT = 0) 특정 로직을 수행하는 조건 분기입니다. 이 조건문은 데이터 조작문(INSERT, UPDATE, DELETE 등) 실행 후 결과에 따라 추가 처리를 분기하는 데 사용됩니다.",
        "IF_61_72": "pActionType이 'CANCEL'인 경우에만 실행되는 분기 로직으로, 해당 조건이 참일 때 특정 변수 할당, 데이터 처리, 또는 트랜잭션 제어 및 예외 처리가 이루어질 수 있는 구조입니다. 구체적으로는 pActionType의 값에 따라 취소 관련 작업을 수행하며, 내부에서 변수 값 변경, 데이터베이스 작업, 또는 프로시저/함수 호출 등이 포함될 수 있습니다.",
        "UPDATE_76_78": "TPJ_RECEPTION 테이블에서 RECEPT_KEY와 PATIENT_KEY가 각각 pReceptKey, pPatientKey이고 STATUS가 'W'인 행의 STATUS 값을 'C'로 갱신합니다.",
        "ASSIGNMENT_81_81": "pResultCode 변수에 -5 값을 할당하여 결과 코드로 오류 또는 특정 상태를 표시합니다.",
        "ASSIGNMENT_82_82": "pResultMessage 변수에 '완료할 접수 정보가 없습니다.'라는 메시지를 할당하여 처리 결과 메시지를 설정합니다.",
        "ASSIGNMENT_84_84": "pResultMessage 변수에 '진료가 완료되었습니다.'라는 메시지를 할당하여 처리 결과 메시지를 설정합니다.",
        "ELSE_83_84": "ELSE 분기 내에 구체적인 코드가 생략되어 있어, 조건이 만족하지 않을 때 실행되는 로직이 존재함을 의미합니다. 실제 동작은 코드가 제공되지 않아 파악할 수 없습니다.",
        "IF_80_85": "SQL%ROWCOUNT가 0일 때 조건 분기를 수행하며, 이 조건이 참이면 내부에 추가 로직이 실행됩니다. 변수 할당, 반복, DML, 예외, 트랜잭션 제어는 명시적으로 나타나지 않습니다.",
        "IF_75_86": "pActionType이 'COMPLETE'인 경우에만 내부 로직이 실행되며, 이 조건 분기를 통해 특정 완료 처리 작업을 수행합니다. 내부에서는 변수 할당, 데이터베이스 작업(SELECT, INSERT, UPDATE 등), 또는 추가적인 프로시저/함수 호출이 이루어질 수 있습니다. 전체적으로 완료 상태에 대한 후속 처리 및 관련 데이터 갱신 또는 기록이 목적입니다.",
        "COMMIT_88_88": "트랜잭션을 완료하기 위해 COMMIT을 실행하여 이전까지의 데이터베이스 작업을 확정합니다.",
        "ASSIGNMENT_93_93": "예외 상황에서 결과 코드 변수 pResultCode에 -100을 할당하여 오류 상태를 명시합니다.",
        "ASSIGNMENT_94_94": "예외 발생 시 시스템 예외 메시지 SQLERRM을 결과 메시지 변수 pResultMessage에 저장합니다.",
        "EXCEPTION_90_95": "EXCEPTION 블록에서 모든 예외 발생 시 ROLLBACK을 수행하여 트랜잭션을 취소하고, 이후 추가적인 예외 처리 또는 종료 로직이 이어집니다."
      },
      "locale": "ko"
    },
    "output": {
      "summary": "이 프로시저는 환자 등록, 진료 접수, 접수 취소, 진료 완료 등 환자 진료 프로세스의 주요 단계를 처리합니다. 입력받은 환자 정보와 요청 유형(pActionType)에 따라 신규 환자 등록, 진료 접수 등록, 접수 취소, 진료 완료 처리를 각각 수행하며, 각 단계별로 입력값 검증과 예외 상황에 대한 오류 메시지 및 결과 코드를 반환합니다. 데이터베이스의 TPJ_PATIENT 및 TPJ_RECEPTION 테이블을 활용하여 환자 및 접수 정보를 관리하고, 모든 작업 후에는 트랜잭션을 커밋하거나 예외 발생 시 롤백하여 데이터의 일관성을 보장합니다. 최종적으로 처리 결과 메시지와 상태 코드를 출력하여 호출자에게 처리 결과를 명확히 안내합니다."
    },
    "tokenUsage": {
      "prompt": 2174,
      "completion": 194,
      "total": 2368
    },
    "metadata": {
      "type": "procedure_summary"
    }
  },
  {
    "timestamp": "2025-11-06T07:42:48.451131Z",
    "prompt": "prompt/understand_summarized_prompt.py",
    "input": {
      "summaries": {
        "ASSIGNMENT_19_19": "pResultCode 변수에 0을 할당하여 결과 코드가 정상임을 초기화합니다.",
        "ASSIGNMENT_20_20": "pResultMessage 변수에 '성공적으로 처리되었습니다.'라는 메시지를 할당하여 기본 성공 메시지를 설정합니다.",
        "SELECT_23_25": "TPJ_PATIENT 테이블에서 PATIENT_KEY가 pPatientKey와 일치하는 행의 개수를 조회하여 vPatientExists 변수에 저장합니다.",
        "ASSIGNMENT_30_30": "pResultCode 변수에 -1을 할당하여 오류 또는 실패 상태를 표시합니다.",
        "ASSIGNMENT_31_31": "pResultMessage 변수에 '신규 환자 정보가 부족합니다.'라는 오류 메시지를 할당합니다.",
        "RETURN_32_32": "RETURN 문을 사용하여 프로시저 실행을 즉시 종료합니다.",
        "IF_29_33": "pPatientName, pBirthDate, pGender, pPhone 중 하나라도 NULL이면 pResultCode에 -1을 할당하고, pResultMessage에 '신규 환자 정보가 부족합니다.'라는 메시지를 설정한 후 RETURN으로 프로시저 실행을 즉시 종료합니다.",
        "INSERT_36_37": "TPJ_PATIENT 테이블에 pPatientKey, pPatientName, pBirthDate, pGender, pPhone 값을 신규 환자 데이터로 삽입합니다.",
        "ASSIGNMENT_39_39": "pResultCode 변수에 -2 값을 할당하여 오류 또는 특정 상태를 표시합니다.",
        "ASSIGNMENT_40_40": "pResultMessage 변수에 '존재하지 않는 환자입니다:'와 pPatientKey 값을 결합하여 오류 메시지를 설정합니다.",
        "RETURN_41_41": "RETURN 문을 통해 프로시저 또는 함수의 실행을 즉시 종료합니다.",
        "ELSIF_38_41": "vPatientExists가 0일 때, pResultCode에 -2를 할당하여 오류 상태를 표시하고, pResultMessage에 '존재하지 않는 환자입니다:'와 pPatientKey 값을 결합해 상세 오류 메시지를 설정한 후, RETURN으로 프로시저 실행을 즉시 종료합니다.",
        "IF_28_42": "vPatientExists가 0이고 pActionType이 'REGISTER'일 때 신규 환자 등록 로직을 수행합니다. pPatientName, pBirthDate, pGender, pPhone 중 하나라도 NULL이면 pResultCode에 -1, pResultMessage에 '신규 환자 정보가 부족합니다.'를 설정하고 즉시 종료합니다. 모든 정보가 있으면 TPJ_PATIENT 테이블에 pPatientKey, pPatientName, pBirthDate, pGender, pPhone을 삽입합니다. 이후에도 vPatientExists가 0이면 pResultCode에 -2, pResultMessage에 '존재하지 않는 환자입니다:'와 pPatientKey를 결합해 오류 메시지를 설정하고 즉시 종료합니다.",
        "ASSIGNMENT_47_47": "pResultCode 변수에 -3 값을 할당하여 오류 또는 특정 상태를 나타냅니다.",
        "ASSIGNMENT_48_48": "pResultMessage 변수에 '진료과 코드가 필요합니다.'라는 메시지를 할당하여 오류 원인 또는 안내 메시지를 설정합니다.",
        "RETURN_49_49": "RETURN 문을 사용하여 프로시저 또는 함수의 실행을 즉시 종료합니다.",
        "IF_46_50": "pDeptCode가 NULL인 경우 pResultCode에 -3을 할당하고, pResultMessage에 '진료과 코드가 필요합니다.'라는 안내 메시지를 설정한 뒤, RETURN으로 프로시저 실행을 즉시 종료합니다.",
        "ASSIGNMENT_52_52": "pReceptKey가 NULL인 경우 SYS_GUID() 값을 할당하여 고유 접수키를 생성합니다.",
        "INSERT_54_55": "TPJ_RECEPTION 테이블에 pReceptKey, pPatientKey, pDeptCode, pSymptom, 'W' 값을 삽입하여 진료 접수 정보를 등록합니다.",
        "ASSIGNMENT_57_57": "pResultMessage 변수에 '진료 접수가 완료되었습니다.'라는 메시지를 할당합니다.",
        "IF_45_58": "pActionType이 'REGISTER'인 경우 진료 접수 등록을 처리하며, pDeptCode가 없으면 오류 코드와 메시지를 반환하고 즉시 종료합니다. pReceptKey가 없으면 SYS_GUID()로 고유 키를 생성하고, TPJ_RECEPTION 테이블에 접수 정보를 삽입합니다. 성공 시 결과 메시지를 설정합니다.",
        "UPDATE_62_64": "TPJ_RECEPTION 테이블에서 RECEPT_KEY와 PATIENT_KEY가 각각 pReceptKey, pPatientKey이고 STATUS가 'W'인 행의 STATUS 값을 'X'로 변경하여 접수 상태를 취소 처리합니다.",
        "ASSIGNMENT_67_67": "pResultCode 변수에 -4 값을 할당하여 오류 또는 특정 상태를 나타냅니다.",
        "ASSIGNMENT_68_68": "pResultMessage 변수에 '취소할 접수 정보가 없습니다.'라는 메시지를 할당하여 취소 대상이 없음을 알립니다.",
        "ASSIGNMENT_70_70": "pResultMessage 변수에 '접수가 취소되었습니다.'라는 메시지를 할당하여 접수 취소 성공을 알립니다.",
        "ELSE_69_70": "pResultMessage 변수에 '접수가 취소되었습니다.'라는 메시지를 할당하여 접수 취소 성공을 알립니다.",
        "IF_66_71": "SQL%ROWCOUNT가 0일 때 pResultCode에 -4를 할당하여 오류 상태를 표시하고, pResultMessage에 '취소할 접수 정보가 없습니다.' 메시지를 설정합니다. 그렇지 않으면 pResultMessage에 '접수가 취소되었습니다.' 메시지를 할당하여 정상 취소를 알립니다. 조건 분기(IF)와 변수 할당이 주요 동작입니다.",
        "IF_61_72": "pActionType이 'CANCEL'일 때 TPJ_RECEPTION 테이블에서 pReceptKey와 pPatientKey에 해당하고 STATUS가 'W'인 행의 STATUS를 'X'로 업데이트하여 접수를 취소 처리합니다. 업데이트된 행이 없으면 pResultCode에 -4를, pResultMessage에 '취소할 접수 정보가 없습니다.'를 할당하고, 성공 시 pResultMessage에 '접수가 취소되었습니다.'를 할당합니다. 조건 분기(IF), 변수 할당, UPDATE 문, SQL%ROWCOUNT 활용이 주요 동작입니다.",
        "UPDATE_76_78": "TPJ_RECEPTION 테이블에서 RECEPT_KEY와 PATIENT_KEY가 각각 pReceptKey, pPatientKey이고 STATUS가 'W'인 행의 STATUS 값을 'C'로 갱신합니다.",
        "ASSIGNMENT_81_81": "pResultCode 변수에 -5 값을 할당하여 결과 코드로 오류 또는 특정 상태를 표시합니다.",
        "ASSIGNMENT_82_82": "pResultMessage 변수에 '완료할 접수 정보가 없습니다.'라는 메시지를 할당하여 처리 결과 메시지를 설정합니다.",
        "ASSIGNMENT_84_84": "pResultMessage 변수에 '진료가 완료되었습니다.'라는 메시지를 할당하여 처리 결과 메시지를 설정합니다.",
        "ELSE_83_84": "ELSE 분기에서 pResultMessage 변수에 '진료가 완료되었습니다.'라는 메시지를 할당하여 처리 결과를 안내합니다.",
        "IF_80_85": "SQL%ROWCOUNT가 0이면 pResultCode에 -5를 할당하고 pResultMessage에 '완료할 접수 정보가 없습니다.'를 설정하여 처리 결과를 안내하며, 그렇지 않으면 pResultMessage에 '진료가 완료되었습니다.'를 할당합니다.",
        "IF_75_86": "pActionType이 'COMPLETE'일 때 TPJ_RECEPTION 테이블에서 RECEPT_KEY와 PATIENT_KEY가 각각 pReceptKey, pPatientKey이고 STATUS가 'W'인 행의 STATUS를 'C'로 갱신합니다. 갱신된 행이 없으면 pResultCode에 -5를, pResultMessage에 '완료할 접수 정보가 없습니다.'를 할당하고, 갱신이 있으면 pResultMessage에 '진료가 완료되었습니다.'를 할당합니다.",
        "COMMIT_88_88": "트랜잭션을 완료하기 위해 COMMIT을 실행하여 이전까지의 데이터베이스 작업을 확정합니다.",
        "ASSIGNMENT_93_93": "예외 상황에서 결과 코드 변수 pResultCode에 -100을 할당하여 오류 상태를 명시합니다.",
        "ASSIGNMENT_94_94": "예외 발생 시 시스템 예외 메시지 SQLERRM을 결과 메시지 변수 pResultMessage에 저장합니다.",
        "EXCEPTION_90_95": "EXCEPTION 블록에서 모든 예외 발생 시 트랜잭션을 ROLLBACK 처리하고, 결과 코드 변수 pResultCode에 -100을 할당하여 오류 상태를 명시하며, 시스템 예외 메시지 SQLERRM을 결과 메시지 변수 pResultMessage에 저장한 후 프로시저를 종료합니다."
      },
      "locale": "ko"
    },
    "output": {
      "summary": "이 프로시저는 환자 등록, 진료 접수, 접수 취소, 진료 완료 등 환자 진료 프로세스의 주요 단계를 처리합니다. 입력된 환자 정보와 요청 유형(pActionType)에 따라 신규 환자 등록, 진료 접수 등록, 접수 취소, 진료 완료 처리를 수행하며, 각 단계에서 입력값 검증과 오류 메시지 반환, 성공 메시지 설정을 통해 결과를 안내합니다. 데이터베이스의 TPJ_PATIENT 및 TPJ_RECEPTION 테이블을 활용하여 환자 및 접수 정보를 관리하고, 모든 작업 후에는 트랜잭션을 커밋하거나 예외 발생 시 롤백 처리합니다. 처리 결과는 결과 코드와 메시지로 반환되어 호출자에게 현재 상태와 안내 메시지를 제공합니다."
    },
    "tokenUsage": {
      "prompt": 2299,
      "completion": 182,
      "total": 2481
    },
    "metadata": {
      "type": "procedure_summary"
    }
  },
  {
    "timestamp": "2025-11-06T07:43:40.789571Z",
    "prompt": "prompt/understand_summarized_prompt.py",
    "input": {
      "summaries": {
        "ASSIGNMENT_19_19": "pResultCode 변수에 0을 할당하여 결과 코드가 정상임을 초기화합니다.",
        "ASSIGNMENT_20_20": "pResultMessage 변수에 '성공적으로 처리되었습니다.'라는 메시지를 할당하여 기본 성공 메시지를 설정합니다.",
        "SELECT_23_25": "TPJ_PATIENT 테이블에서 PATIENT_KEY가 pPatientKey와 일치하는 행의 개수를 조회하여 vPatientExists 변수에 저장합니다.",
        "ASSIGNMENT_30_30": "pResultCode 변수에 -1을 할당하여 오류 또는 실패 상태를 표시합니다.",
        "ASSIGNMENT_31_31": "pResultMessage 변수에 '신규 환자 정보가 부족합니다.'라는 오류 메시지를 할당합니다.",
        "RETURN_32_32": "RETURN 문을 사용하여 프로시저 실행을 즉시 종료합니다.",
        "IF_29_33": "pPatientName, pBirthDate, pGender, pPhone 중 하나라도 NULL이면 pResultCode에 -1을 할당하고, pResultMessage에 '신규 환자 정보가 부족합니다.'라는 메시지를 설정한 후 RETURN으로 프로시저 실행을 즉시 종료합니다.",
        "INSERT_36_37": "TPJ_PATIENT 테이블에 pPatientKey, pPatientName, pBirthDate, pGender, pPhone 값을 신규 환자 데이터로 삽입합니다.",
        "ASSIGNMENT_39_39": "pResultCode 변수에 -2 값을 할당하여 오류 또는 특정 상태를 표시합니다.",
        "ASSIGNMENT_40_40": "pResultMessage 변수에 '존재하지 않는 환자입니다:'와 pPatientKey 값을 결합하여 오류 메시지를 설정합니다.",
        "RETURN_41_41": "RETURN 문을 통해 프로시저 또는 함수의 실행을 즉시 종료합니다.",
        "ELSIF_38_41": "vPatientExists가 0일 때, pResultCode에 -2를 할당하여 오류 상태를 표시하고, pResultMessage에 '존재하지 않는 환자입니다:'와 pPatientKey 값을 결합해 상세 오류 메시지를 설정한 후, RETURN으로 프로시저 실행을 즉시 종료합니다.",
        "IF_28_42": "vPatientExists가 0이고 pActionType이 'REGISTER'일 때 신규 환자 등록 로직을 수행합니다. pPatientName, pBirthDate, pGender, pPhone 중 하나라도 NULL이면 pResultCode에 -1, pResultMessage에 '신규 환자 정보가 부족합니다.'를 설정하고 즉시 종료합니다. 모든 정보가 있으면 TPJ_PATIENT 테이블에 pPatientKey, pPatientName, pBirthDate, pGender, pPhone을 삽입합니다. 이후에도 vPatientExists가 0이면 pResultCode에 -2, pResultMessage에 '존재하지 않는 환자입니다:'와 pPatientKey를 결합해 오류 메시지를 설정하고 즉시 종료합니다.",
        "ASSIGNMENT_47_47": "pResultCode 변수에 -3 값을 할당하여 오류 또는 특정 상태를 나타냅니다.",
        "ASSIGNMENT_48_48": "pResultMessage 변수에 '진료과 코드가 필요합니다.'라는 메시지를 할당하여 오류 원인 또는 안내 메시지를 설정합니다.",
        "RETURN_49_49": "RETURN 문을 사용하여 프로시저 또는 함수의 실행을 즉시 종료합니다.",
        "IF_46_50": "pDeptCode가 NULL인 경우 pResultCode에 -3을 할당하고, pResultMessage에 '진료과 코드가 필요합니다.'라는 안내 메시지를 설정한 뒤, RETURN으로 프로시저 실행을 즉시 종료합니다.",
        "ASSIGNMENT_52_52": "pReceptKey가 NULL인 경우 SYS_GUID() 값을 할당하여 고유 접수키를 생성합니다.",
        "INSERT_54_55": "TPJ_RECEPTION 테이블에 pReceptKey, pPatientKey, pDeptCode, pSymptom, 'W' 값을 삽입하여 진료 접수 정보를 등록합니다.",
        "ASSIGNMENT_57_57": "pResultMessage 변수에 '진료 접수가 완료되었습니다.'라는 메시지를 할당합니다.",
        "IF_45_58": "pActionType이 'REGISTER'인 경우 진료 접수 등록을 처리하며, pDeptCode가 없으면 오류 코드와 메시지를 반환하고 즉시 종료합니다. pReceptKey가 없으면 SYS_GUID()로 고유 키를 생성하고, TPJ_RECEPTION 테이블에 접수 정보를 삽입합니다. 성공 시 결과 메시지를 설정합니다.",
        "UPDATE_62_64": "TPJ_RECEPTION 테이블에서 RECEPT_KEY와 PATIENT_KEY가 각각 pReceptKey, pPatientKey이고 STATUS가 'W'인 행의 STATUS 값을 'X'로 변경하여 접수 상태를 취소 처리합니다.",
        "ASSIGNMENT_67_67": "pResultCode 변수에 -4 값을 할당하여 오류 또는 특정 상태를 나타냅니다.",
        "ASSIGNMENT_68_68": "pResultMessage 변수에 '취소할 접수 정보가 없습니다.'라는 메시지를 할당하여 취소 대상이 없음을 알립니다.",
        "ASSIGNMENT_70_70": "pResultMessage 변수에 '접수가 취소되었습니다.'라는 메시지를 할당하여 접수 취소 성공을 알립니다.",
        "ELSE_69_70": "pResultMessage 변수에 '접수가 취소되었습니다.'라는 메시지를 할당하여 접수 취소 성공을 알립니다.",
        "IF_66_71": "SQL%ROWCOUNT가 0일 때 pResultCode에 -4를 할당하여 오류 상태를 표시하고, pResultMessage에 '취소할 접수 정보가 없습니다.' 메시지를 설정합니다. 그렇지 않으면 pResultMessage에 '접수가 취소되었습니다.' 메시지를 할당하여 정상 취소를 알립니다. 조건 분기(IF)와 변수 할당이 주요 동작입니다.",
        "IF_61_72": "pActionType이 'CANCEL'일 때 TPJ_RECEPTION 테이블에서 pReceptKey와 pPatientKey에 해당하고 STATUS가 'W'인 행의 STATUS를 'X'로 업데이트하여 접수를 취소 처리합니다. 업데이트된 행이 없으면 pResultCode에 -4를, pResultMessage에 '취소할 접수 정보가 없습니다.'를 할당하고, 성공 시 pResultMessage에 '접수가 취소되었습니다.'를 할당합니다. 조건 분기(IF), 변수 할당, UPDATE 문, SQL%ROWCOUNT 활용이 주요 동작입니다.",
        "UPDATE_76_78": "TPJ_RECEPTION 테이블에서 RECEPT_KEY와 PATIENT_KEY가 각각 pReceptKey, pPatientKey이고 STATUS가 'W'인 행의 STATUS 값을 'C'로 갱신합니다.",
        "ASSIGNMENT_81_81": "pResultCode 변수에 -5 값을 할당하여 결과 코드로 오류 또는 특정 상태를 표시합니다.",
        "ASSIGNMENT_82_82": "pResultMessage 변수에 '완료할 접수 정보가 없습니다.'라는 메시지를 할당하여 처리 결과 메시지를 설정합니다.",
        "ASSIGNMENT_84_84": "pResultMessage 변수에 '진료가 완료되었습니다.'라는 메시지를 할당하여 처리 결과 메시지를 설정합니다.",
        "ELSE_83_84": "ELSE 분기에서 pResultMessage 변수에 '진료가 완료되었습니다.'라는 메시지를 할당하여 처리 결과를 안내합니다.",
        "IF_80_85": "SQL%ROWCOUNT가 0이면 pResultCode에 -5를 할당하고 pResultMessage에 '완료할 접수 정보가 없습니다.'를 설정하여 처리 결과를 안내하며, 그렇지 않으면 pResultMessage에 '진료가 완료되었습니다.'를 할당합니다.",
        "IF_75_86": "pActionType이 'COMPLETE'일 때 TPJ_RECEPTION 테이블에서 RECEPT_KEY와 PATIENT_KEY가 각각 pReceptKey, pPatientKey이고 STATUS가 'W'인 행의 STATUS를 'C'로 갱신합니다. 갱신된 행이 없으면 pResultCode에 -5를, pResultMessage에 '완료할 접수 정보가 없습니다.'를 할당하고, 갱신이 있으면 pResultMessage에 '진료가 완료되었습니다.'를 할당합니다.",
        "COMMIT_88_88": "트랜잭션을 완료하기 위해 COMMIT을 실행하여 이전까지의 데이터베이스 작업을 확정합니다.",
        "ASSIGNMENT_93_93": "예외 상황에서 결과 코드 변수 pResultCode에 -100을 할당하여 오류 상태를 명시합니다.",
        "ASSIGNMENT_94_94": "예외 발생 시 시스템 예외 메시지 SQLERRM을 결과 메시지 변수 pResultMessage에 저장합니다.",
        "EXCEPTION_90_95": "EXCEPTION 블록에서 모든 예외 발생 시 트랜잭션을 ROLLBACK 처리하고, 결과 코드 변수 pResultCode에 -100을 할당하여 오류 상태를 명시하며, 시스템 예외 메시지 SQLERRM을 결과 메시지 변수 pResultMessage에 저장한 후 프로시저를 종료합니다."
      },
      "locale": "ko"
    },
    "output": {
      "summary": "이 프로시저는 환자 등록, 진료 접수, 접수 취소, 진료 완료 등 환자 진료 프로세스의 주요 단계를 처리합니다. 입력된 환자 정보와 요청 유형(pActionType)에 따라 신규 환자 등록, 진료 접수 등록, 접수 취소, 진료 완료 처리를 수행하며, 각 단계에서 입력값 검증과 오류 메시지 반환, 성공 메시지 설정을 통해 결과를 안내합니다. 데이터베이스의 TPJ_PATIENT 및 TPJ_RECEPTION 테이블을 활용하여 환자 및 접수 정보를 관리하고, 모든 작업 후에는 트랜잭션을 커밋하거나 예외 발생 시 롤백 처리합니다. 처리 결과는 결과 코드와 메시지로 반환되어 호출자에게 현재 상태와 안내 메시지를 제공합니다."
    },
    "tokenUsage": {
      "prompt": 2299,
      "completion": 182,
      "total": 2481
    },
    "metadata": {
      "type": "procedure_summary"
    }
  },
  {
    "timestamp": "2025-11-07T05:34:35.783593Z",
    "prompt": "prompt/understand_summarized_prompt.py",
    "input": {
      "summaries": {
        "ASSIGNMENT_19_19": "pResultCode 변수에 0을 할당하여 결과 코드가 정상임을 초기화합니다.",
        "ASSIGNMENT_20_20": "pResultMessage 변수에 '성공적으로 처리되었습니다.'라는 메시지를 할당하여 기본 성공 메시지를 설정합니다.",
        "SELECT_23_25": "TPJ_PATIENT 테이블에서 PATIENT_KEY가 pPatientKey와 일치하는 행의 개수를 조회하여 vPatientExists 변수에 저장합니다.",
        "ASSIGNMENT_30_30": "pResultCode 변수에 -1을 할당하여 오류 또는 실패 상태를 표시합니다.",
        "ASSIGNMENT_31_31": "pResultMessage 변수에 '신규 환자 정보가 부족합니다.'라는 오류 메시지를 할당합니다.",
        "RETURN_32_32": "RETURN 문을 사용하여 프로시저 실행을 즉시 종료합니다.",
        "IF_29_33": "pPatientName, pBirthDate, pGender, pPhone 중 하나라도 NULL이면 pResultCode에 -1을 할당하고, pResultMessage에 '신규 환자 정보가 부족합니다.'라는 메시지를 설정한 후 RETURN으로 프로시저 실행을 즉시 종료합니다.",
        "INSERT_36_37": "TPJ_PATIENT 테이블에 pPatientKey, pPatientName, pBirthDate, pGender, pPhone 값을 신규 환자 데이터로 삽입합니다.",
        "ASSIGNMENT_39_39": "pResultCode 변수에 -2 값을 할당하여 오류 또는 특정 상태를 표시합니다.",
        "ASSIGNMENT_40_40": "pResultMessage 변수에 '존재하지 않는 환자입니다:'와 pPatientKey 값을 결합하여 오류 메시지를 설정합니다.",
        "RETURN_41_41": "RETURN 문을 통해 프로시저 또는 함수의 실행을 즉시 종료합니다.",
        "ELSIF_38_41": "vPatientExists가 0일 때, pResultCode에 -2를 할당하여 오류 상태를 표시하고, pResultMessage에 '존재하지 않는 환자입니다:'와 pPatientKey 값을 결합해 상세 오류 메시지를 설정한 후, RETURN으로 프로시저 실행을 즉시 종료합니다.",
        "IF_28_42": "vPatientExists가 0이고 pActionType이 'REGISTER'일 때 신규 환자 등록 로직을 수행합니다. pPatientName, pBirthDate, pGender, pPhone 중 하나라도 NULL이면 pResultCode에 -1, pResultMessage에 '신규 환자 정보가 부족합니다.'를 설정하고 즉시 종료합니다. 모든 정보가 있으면 TPJ_PATIENT 테이블에 pPatientKey, pPatientName, pBirthDate, pGender, pPhone을 삽입합니다. 이후에도 vPatientExists가 0이면 pResultCode에 -2, pResultMessage에 '존재하지 않는 환자입니다:'와 pPatientKey를 결합해 오류 메시지를 설정하고 즉시 종료합니다.",
        "ASSIGNMENT_47_47": "pResultCode 변수에 -3 값을 할당하여 오류 또는 특정 상태를 나타냅니다.",
        "ASSIGNMENT_48_48": "pResultMessage 변수에 '진료과 코드가 필요합니다.'라는 메시지를 할당하여 오류 원인 또는 안내 메시지를 설정합니다.",
        "RETURN_49_49": "RETURN 문을 사용하여 프로시저 또는 함수의 실행을 즉시 종료합니다.",
        "IF_46_50": "pDeptCode가 NULL인 경우 pResultCode에 -3을 할당하고, pResultMessage에 '진료과 코드가 필요합니다.'라는 안내 메시지를 설정한 뒤, RETURN으로 프로시저 실행을 즉시 종료합니다.",
        "ASSIGNMENT_52_52": "pReceptKey가 NULL인 경우 SYS_GUID() 값을 할당하여 고유 접수키를 생성합니다.",
        "INSERT_54_55": "TPJ_RECEPTION 테이블에 pReceptKey, pPatientKey, pDeptCode, pSymptom, 'W' 값을 삽입하여 진료 접수 정보를 등록합니다.",
        "ASSIGNMENT_57_57": "pResultMessage 변수에 '진료 접수가 완료되었습니다.'라는 메시지를 할당합니다.",
        "IF_45_58": "pActionType이 'REGISTER'인 경우 진료 접수 등록을 처리하며, pDeptCode가 없으면 오류 코드와 메시지를 반환하고 즉시 종료합니다. pReceptKey가 없으면 SYS_GUID()로 고유 키를 생성하고, TPJ_RECEPTION 테이블에 접수 정보를 삽입합니다. 성공 시 결과 메시지를 설정합니다.",
        "UPDATE_62_64": "TPJ_RECEPTION 테이블에서 RECEPT_KEY와 PATIENT_KEY가 각각 pReceptKey, pPatientKey이고 STATUS가 'W'인 행의 STATUS 값을 'X'로 변경하여 접수 상태를 취소 처리합니다.",
        "ASSIGNMENT_67_67": "pResultCode 변수에 -4 값을 할당하여 오류 또는 특정 상태를 나타냅니다.",
        "ASSIGNMENT_68_68": "pResultMessage 변수에 '취소할 접수 정보가 없습니다.'라는 메시지를 할당하여 취소 대상이 없음을 알립니다.",
        "ASSIGNMENT_70_70": "pResultMessage 변수에 '접수가 취소되었습니다.'라는 메시지를 할당하여 접수 취소 성공을 알립니다.",
        "ELSE_69_70": "pResultMessage 변수에 '접수가 취소되었습니다.'라는 메시지를 할당하여 접수 취소 성공을 알립니다.",
        "IF_66_71": "SQL%ROWCOUNT가 0일 때 pResultCode에 -4를 할당하여 오류 상태를 표시하고, pResultMessage에 '취소할 접수 정보가 없습니다.' 메시지를 설정합니다. 그렇지 않으면 pResultMessage에 '접수가 취소되었습니다.' 메시지를 할당하여 정상 취소를 알립니다. 조건 분기(IF)와 변수 할당이 주요 동작입니다.",
        "IF_61_72": "pActionType이 'CANCEL'일 때 TPJ_RECEPTION 테이블에서 pReceptKey와 pPatientKey에 해당하고 STATUS가 'W'인 행의 STATUS를 'X'로 업데이트하여 접수를 취소 처리합니다. 업데이트된 행이 없으면 pResultCode에 -4를, pResultMessage에 '취소할 접수 정보가 없습니다.'를 할당하고, 성공 시 pResultMessage에 '접수가 취소되었습니다.'를 할당합니다. 조건 분기(IF), 변수 할당, UPDATE 문, SQL%ROWCOUNT 활용이 주요 동작입니다.",
        "UPDATE_76_78": "TPJ_RECEPTION 테이블에서 RECEPT_KEY와 PATIENT_KEY가 각각 pReceptKey, pPatientKey이고 STATUS가 'W'인 행의 STATUS 값을 'C'로 갱신합니다.",
        "ASSIGNMENT_81_81": "pResultCode 변수에 -5 값을 할당하여 결과 코드로 오류 또는 특정 상태를 표시합니다.",
        "ASSIGNMENT_82_82": "pResultMessage 변수에 '완료할 접수 정보가 없습니다.'라는 메시지를 할당하여 처리 결과 메시지를 설정합니다.",
        "ASSIGNMENT_84_84": "pResultMessage 변수에 '진료가 완료되었습니다.'라는 메시지를 할당하여 처리 결과 메시지를 설정합니다.",
        "ELSE_83_84": "ELSE 분기에서 pResultMessage 변수에 '진료가 완료되었습니다.'라는 메시지를 할당하여 처리 결과를 안내합니다.",
        "IF_80_85": "SQL%ROWCOUNT가 0이면 pResultCode에 -5를 할당하고 pResultMessage에 '완료할 접수 정보가 없습니다.'를 설정하여 처리 결과를 안내하며, 그렇지 않으면 pResultMessage에 '진료가 완료되었습니다.'를 할당합니다.",
        "IF_75_86": "pActionType이 'COMPLETE'일 때 TPJ_RECEPTION 테이블에서 RECEPT_KEY와 PATIENT_KEY가 각각 pReceptKey, pPatientKey이고 STATUS가 'W'인 행의 STATUS를 'C'로 갱신합니다. 갱신된 행이 없으면 pResultCode에 -5를, pResultMessage에 '완료할 접수 정보가 없습니다.'를 할당하고, 갱신이 있으면 pResultMessage에 '진료가 완료되었습니다.'를 할당합니다.",
        "COMMIT_88_88": "트랜잭션을 완료하기 위해 COMMIT을 실행하여 이전까지의 데이터베이스 작업을 확정합니다.",
        "ASSIGNMENT_93_93": "예외 상황에서 결과 코드 변수 pResultCode에 -100을 할당하여 오류 상태를 명시합니다.",
        "ASSIGNMENT_94_94": "예외 발생 시 시스템 예외 메시지 SQLERRM을 결과 메시지 변수 pResultMessage에 저장합니다.",
        "EXCEPTION_90_95": "EXCEPTION 블록에서 모든 예외 발생 시 트랜잭션을 ROLLBACK 처리하고, 결과 코드 변수 pResultCode에 -100을 할당하여 오류 상태를 명시하며, 시스템 예외 메시지 SQLERRM을 결과 메시지 변수 pResultMessage에 저장한 후 프로시저를 종료합니다."
      },
      "locale": "ko"
    },
    "output": {
      "summary": "이 프로시저는 환자 등록, 진료 접수, 접수 취소, 진료 완료 등 환자 진료 프로세스의 주요 단계를 처리합니다. 입력된 환자 정보와 요청 유형(pActionType)에 따라 신규 환자 등록, 진료 접수 등록, 접수 취소, 진료 완료 처리를 수행하며, 각 단계에서 입력값 검증과 오류 메시지 반환, 성공 메시지 설정을 통해 결과를 안내합니다. 데이터베이스의 TPJ_PATIENT 및 TPJ_RECEPTION 테이블을 활용하여 환자 및 접수 정보를 관리하고, 모든 작업 후에는 트랜잭션을 커밋하거나 예외 발생 시 롤백 처리합니다. 처리 결과는 결과 코드와 메시지로 반환되어 호출자에게 현재 상태와 안내 메시지를 제공합니다."
    },
    "tokenUsage": {
      "prompt": 2299,
      "completion": 182,
      "total": 2481
    },
    "metadata": {
      "type": "procedure_summary"
    }
  }
]