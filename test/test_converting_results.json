{
  "user_id": "TestSession",
  "project_name": "HOSPITAL_PROJECT",
  "locale": "ko",
  "entity_name_list": {
    "TpjPatient": {
      "entityName": "TpjPatient"
    },
    "TpjReception": {
      "entityName": "TpjReception"
    }
  },
  "entity_results": [
    {
      "entityName": "TpjPatient",
      "entityCode": "package com.example.HOSPITAL_PROJECT.entity;\n\nimport jakarta.persistence.*;\nimport lombok.*;\nimport java.time.*;\n\n@Entity\n@Table(name = \"TPJ_PATIENT\")\n@Data\npublic class TpjPatient {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    /** 환자식별키 */\n    @Column(name = \"PATIENT_KEY\", unique = true, nullable = false, length = 10)\n    private String patientKey;\n\n    /** 환자명 */\n    @Column(name = \"PATIENT_NAME\", nullable = false, length = 50)\n    private String patientName;\n\n    /** 생년월일 */\n    @Column(name = \"BIRTH_DATE\", nullable = false)\n    private LocalDate birthDate;\n\n    /** 성별코드 */\n    @Column(name = \"GENDER\", nullable = false, length = 1)\n    private String gender;\n\n    /** 연락처번호 */\n    @Column(name = \"PHONE\", nullable = false, length = 20)\n    private String phone;\n\n    /** 등록일자 */\n    @Column(name = \"REG_DATE\")\n    private LocalDate regDate;\n}\n"
    },
    {
      "entityName": "TpjReception",
      "entityCode": "package com.example.HOSPITAL_PROJECT.entity;\n\nimport jakarta.persistence.*;\nimport lombok.*;\nimport java.time.*;\n\n@Entity\n@Table(name = \"TPJ_RECEPTION\")\n@Data\npublic class TpjReception {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    /** 접수식별키 */\n    @Column(name = \"RECEPT_KEY\", unique = true, nullable = false, length = 20)\n    private String receptKey;\n\n    /** 환자식별키 */\n    @Column(name = \"PATIENT_KEY\", nullable = false, length = 10)\n    private String patientKey;\n\n    /** 진료과코드 */\n    @Column(name = \"DEPT_CODE\", nullable = false, length = 10)\n    private String deptCode;\n\n    /** 접수증상내용 */\n    @Column(name = \"SYMPTOM\", length = 500)\n    private String symptom;\n\n    /** 접수일시 */\n    @Column(name = \"RECEPT_DATE\")\n    private LocalDate receptDate;\n\n    /** 접수상태 */\n    @Column(name = \"STATUS\", nullable = false, length = 1)\n    private String status;\n}\n"
    }
  ],
  "used_query_methods": {
    "62~64": "@Query(\"SELECT r FROM TpjReception r WHERE r.receptKey = :pReceptKey AND r.patientKey = :pPatientKey AND r.status = 'W'\")\nTpjReception findByReceptKeyAndPatientKeyAndStatusWaiting(@Param(\"pReceptKey\") String pReceptKey, @Param(\"pPatientKey\") String pPatientKey);",
    "76~78": "@Query(\"SELECT r FROM TpjReception r WHERE r.receptKey = :pReceptKey AND r.patientKey = :pPatientKey AND r.status = 'W'\")\nTpjReception findByReceptKeyAndPatientKeyAndStatusWaiting(@Param(\"pReceptKey\") String pReceptKey, @Param(\"pPatientKey\") String pPatientKey);",
    "23~25": "@Query(\"SELECT p FROM TpjPatient p WHERE p.patientKey = :pPatientKey\")\nTpjPatient findByPatientKey(@Param(\"pPatientKey\") String pPatientKey);"
  },
  "global_variables": [],
  "sequence_methods": [],
  "repository_list": [
    {
      "repositoryName": "TpjReceptionRepository",
      "code": "package com.example.HOSPITAL_PROJECT.repository;\nimport java.util.List;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.data.jpa.repository.Query;\nimport org.springframework.data.repository.query.Param;\nimport org.springframework.data.rest.core.annotation.RepositoryRestResource;\nimport com.example.HOSPITAL_PROJECT.entity.TpjReception;\nimport java.time.*;\n\n@RepositoryRestResource(collectionResourceRel = \"tpjreceptions\", path = \"tpjreceptions\")\npublic interface TpjReceptionRepository extends JpaRepository<TpjReception, Long> {\n    @Query(\"SELECT r FROM TpjReception r WHERE r.receptKey = :pReceptKey AND r.patientKey = :pPatientKey AND r.status = 'W'\")\n    TpjReception findByReceptKeyAndPatientKeyAndStatusWaiting(@Param(\"pReceptKey\") String pReceptKey, @Param(\"pPatientKey\") String pPatientKey);\n}"
    },
    {
      "repositoryName": "TpjPatientRepository",
      "code": "package com.example.HOSPITAL_PROJECT.repository;\nimport java.util.List;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.data.jpa.repository.Query;\nimport org.springframework.data.repository.query.Param;\nimport org.springframework.data.rest.core.annotation.RepositoryRestResource;\nimport com.example.HOSPITAL_PROJECT.entity.TpjPatient;\nimport java.time.*;\n\n@RepositoryRestResource(collectionResourceRel = \"tpjpatients\", path = \"tpjpatients\")\npublic interface TpjPatientRepository extends JpaRepository<TpjPatient, Long> {\n    @Query(\"SELECT p FROM TpjPatient p WHERE p.patientKey = :pPatientKey\")\n    TpjPatient findByPatientKey(@Param(\"pPatientKey\") String pPatientKey);\n}"
    }
  ],
  "service_skeleton_results": {
    "TPX_HOSPITAL_RECEPTION": [
      [
        {
          "command_class_variable": [
            "String:pActionType",
            "String:pPatientKey",
            "String:pPatientName",
            "LocalDate:pBirthDate",
            "String:pGender",
            "String:pPhone",
            "String:pDeptCode",
            "String:pSymptom",
            "String:pReceptKey"
          ],
          "command_class_name": "TpxHospitalReceptionCommand",
          "method_skeleton_name": "tpxHospitalReception",
          "method_skeleton_code": "    public Map<String, Object> tpxHospitalReception(String pActionType, String pPatientKey, String pPatientName, LocalDate pBirthDate, String pGender, String pPhone, String pDeptCode, String pSymptom, String pReceptKey) {\n        Long vPatientExists;\n        Long vReceptExists;\n        String vReceptStatus;\n        Long pResultCode;\n        String pResultMessage;\n        CodePlaceHolder\n    }",
          "method_signature": "Map<String, Object> tpxHospitalReception(String pActionType, String pPatientKey, String pPatientName, LocalDate pBirthDate, String pGender, String pPhone, String pDeptCode, String pSymptom, String pReceptKey)",
          "service_method_skeleton": "package com.example.HOSPITAL_PROJECT.service;\n\nimport com.example.HOSPITAL_PROJECT.entity.TpjPatient;\nimport com.example.HOSPITAL_PROJECT.repository.TpjPatientRepository;\nimport com.example.HOSPITAL_PROJECT.entity.TpjReception;\nimport com.example.HOSPITAL_PROJECT.repository.TpjReceptionRepository;\nimport com.example.HOSPITAL_PROJECT.command.spHospitalReception.*;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RestController;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport jakarta.persistence.EntityNotFoundException;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.transaction.annotation.Transactional;\nimport org.springframework.beans.BeanUtils;\nimport java.time.format.DateTimeFormatter;\nimport org.springframework.stereotype.Service;\nimport java.time.temporal.TemporalAdjusters;\nimport java.time.*;\nimport java.util.*;\nimport java.util.Map;\nimport java.util.HashMap;\n\n@Transactional\n@Service\npublic class SpHospitalReceptionService {\n        @Autowired\n    private TpjPatientRepository tpjPatientRepository;\n    @Autowired\n    private TpjReceptionRepository tpjReceptionRepository;\n\n    public Map<String, Object> tpxHospitalReception(String pActionType, String pPatientKey, String pPatientName, LocalDate pBirthDate, String pGender, String pPhone, String pDeptCode, String pSymptom, String pReceptKey) {\n        Long vPatientExists;\n        Long vReceptExists;\n        String vReceptStatus;\n        Long pResultCode;\n        String pResultMessage;\n        CodePlaceHolder\n    }\n}",
          "node_type": "PROCEDURE",
          "procedure_name": "TPX_HOSPITAL_RECEPTION",
          "command_class_code": "package com.example.HOSPITAL_PROJECT.command.spHospitalReception;\nimport java.time.*;\nimport lombok.Getter;\nimport lombok.Setter;\nimport com.example.HOSPITAL_PROJECT.entity.*;\n\n@Getter\n@Setter\npublic class TpxHospitalReceptionCommand {\n\n    private String pActionType;\n    private String pPatientKey;\n    private String pPatientName;\n    private LocalDate pBirthDate;\n    private String pGender;\n    private String pPhone;\n    private String pDeptCode;\n    private String pSymptom;\n    private String pReceptKey;\n\n}"
        }
      ],
      "package com.example.HOSPITAL_PROJECT.service;\n\nimport com.example.HOSPITAL_PROJECT.entity.TpjPatient;\nimport com.example.HOSPITAL_PROJECT.repository.TpjPatientRepository;\nimport com.example.HOSPITAL_PROJECT.entity.TpjReception;\nimport com.example.HOSPITAL_PROJECT.repository.TpjReceptionRepository;\nimport com.example.HOSPITAL_PROJECT.command.spHospitalReception.*;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RestController;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport jakarta.persistence.EntityNotFoundException;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.transaction.annotation.Transactional;\nimport org.springframework.beans.BeanUtils;\nimport java.time.format.DateTimeFormatter;\nimport org.springframework.stereotype.Service;\nimport java.time.temporal.TemporalAdjusters;\nimport java.time.*;\nimport java.util.*;\nimport java.util.Map;\nimport java.util.HashMap;\n\n@Transactional\n@Service\npublic class SpHospitalReceptionService {\n        @Autowired\n    private TpjPatientRepository tpjPatientRepository;\n    @Autowired\n    private TpjReceptionRepository tpjReceptionRepository;\n\nCodePlaceHolder\n}",
      "SpHospitalReceptionService",
      true,
      [
        {
          "commandName": "TpxHospitalReceptionCommand",
          "commandCode": "package com.example.HOSPITAL_PROJECT.command.spHospitalReception;\nimport java.time.*;\nimport lombok.Getter;\nimport lombok.Setter;\nimport com.example.HOSPITAL_PROJECT.entity.*;\n\n@Getter\n@Setter\npublic class TpxHospitalReceptionCommand {\n\n    private String pActionType;\n    private String pPatientKey;\n    private String pPatientName;\n    private LocalDate pBirthDate;\n    private String pGender;\n    private String pPhone;\n    private String pDeptCode;\n    private String pSymptom;\n    private String pReceptKey;\n\n}"
        }
      ]
    ]
  },
  "controller_results": {
    "TPX": {
      "controller_class_name": "TPXController",
      "procedure_count": 1,
      "status": "✅ 생성 및 저장 완료"
    }
  },
  "main_content": "package com.example.HOSPITAL_PROJECT;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class Hospital_projectApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(Hospital_projectApplication.class, args);\n    }\n\n}\n",
  "pom_content": "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd\">\n    <modelVersion>4.0.0</modelVersion>\n    <parent>\n        <groupId>org.springframework.boot</groupId>\n        <artifactId>spring-boot-starter-parent</artifactId>\n        <version>3.3.2</version>\n        <relativePath/>\n    </parent>\n    <groupId>com.example</groupId>\n    <artifactId>HOSPITAL_PROJECT</artifactId>\n    <version>0.0.1-SNAPSHOT</version>\n    <name>HOSPITAL_PROJECT</name>\n    <description>HOSPITAL_PROJECT project for Spring Boot</description>\n    <properties>\n        <java.version>17</java.version>\n    </properties>\n    <dependencies>\n        <dependency>\n            <groupId>org.springframework.boot</groupId>\n            <artifactId>spring-boot-starter-data-jpa</artifactId>\n        </dependency>\n        <dependency>\n            <groupId>org.springframework.boot</groupId>\n            <artifactId>spring-boot-starter-data-rest</artifactId>\n        </dependency>\n        <dependency>\n            <groupId>org.springframework.boot</groupId>\n            <artifactId>spring-boot-starter-web</artifactId>\n        </dependency>\n        <dependency>\n            <groupId>com.oracle.database.jdbc</groupId>\n            <artifactId>ojdbc11</artifactId>\n            <scope>runtime</scope>\n        </dependency>\n        <dependency>\n            <groupId>com.h2database</groupId>\n            <artifactId>h2</artifactId>\n            <scope>runtime</scope>\n        </dependency>\n        <dependency>\n            <groupId>org.projectlombok</groupId>\n            <artifactId>lombok</artifactId>\n            <optional>true</optional>\n        </dependency>\n        <dependency>\n            <groupId>org.springframework.boot</groupId>\n            <artifactId>spring-boot-starter-test</artifactId>\n            <scope>test</scope>\n        </dependency>\n    </dependencies>\n    <build>\n        <plugins>\n            <plugin>\n                <groupId>org.springframework.boot</groupId>\n                <artifactId>spring-boot-maven-plugin</artifactId>\n                <configuration>\n                    <excludes>\n                        <exclude>\n                            <groupId>org.projectlombok</groupId>\n                            <artifactId>lombok</artifactId>\n                        </exclude>\n                    </excludes>\n                </configuration>\n            </plugin>\n        </plugins>\n    </build>\n</project>\n",
  "properties_content": "spring.application.name=HOSPITAL_PROJECT\nspring.h2.console.enabled=true\nspring.datasource.url=jdbc:h2:mem:testdb\nspring.datasource.driverClassName=org.h2.Driver\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\nspring.jpa.hibernate.ddl-auto=create-drop",
  "service_code_results": {
    "TPX_HOSPITAL_RECEPTION": {
      "service_class_name": "SpHospitalReceptionService",
      "status": "✅ 생성 및 저장 완료"
    }
  }
}